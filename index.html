<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Econosim</title>
	<meta name="description" content="Test">
	<meta name="author" content="DSP">
	<script src="js/data.js"></script>
	<script src="js/vue2.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/styles.css">

</head>

<body>
	<div id="app" class="wrapper">
		<h1>EconoSim</h1>
		<p>Elapsed time: <span id="time">0</span>s</p>
		<button id="pauseTimer">Pause</button><button id="resetTimer">Reset*</button>
		<ul>
			<li><b>Every 5 seconds:</b>
				<ul>
					<li>Corporations select 1 job (if they have a driver available)</li>
				</ul>
			</li>
			<li><b>Every 10 seconds:</b>
				<ul>
					<li>Commodity prices fluctuate (sales = green)</li>
					<li>List of available jobs is populated / topped off (10 max)</li>
				</ul>
			</li>
		</ul>
		<p><i>*Resets the timer, not the data</i></p>
		<hr />
		<div class="left-col">
			<!-- economy -->
			<table>
				<tr><td colspan="100%"><h2>Economy</h2></td></tr>
				<tr class="header">
					<th>ID</th>
					<th>Name</th>
					<th>Nice Name</th>
					<th>Base Price</th>
					<th>Current Price</th>
					<th>Flux</th>
					<th>Unit Size</th>
<!-- 					<th v-for="prop in economyData.commoditiesProps" :key="prop.index">
						{{ prop }}
					</th> -->
				</tr>
				<tr v-for="commodity in economyData.commodities" :key="commodity.id">
					<td>{{ commodity.id }}</td>
					<td>{{ commodity.name }}</td>
					<td>{{ commodity.niceName }}</td>
					<td>{{ commodity.priceBase }}</td>
					<td v-bind:class="{ sale: commodity.priceCurrent < commodity.priceBase }">{{ commodity.priceCurrent }}</td>
					<td>{{ commodity.flux }}</td>
					<td>{{ commodity.unitSize }}</td>
<!-- 					<td v-for="(v, k) in commodity" :key="k['id']">
						{{ v }}
					</td> -->
				</tr>
			</table>
			<!-- corporations -->
			<table>
				<tr><td colspan="100%"><h2>Corporations</h2></td></tr>
				<tr class="header">
					<th>ID</th>
					<th>Name</th>
					<th>$</th>
					<th>Focus</th>
					<th>Jobs (Available)</th>
					<th>Jobs (Active)</th>
					<th>Jobs (Completed)</th>
					<th>Drivers (Available)</th>
					<th>Drivers (Active)</th>
<!-- 					<th v-for="prop in corporationData.corporationsProps" :key="prop.index">
						{{ prop }}
					</th> -->
				</tr>
				<tr v-for="corporation in corporationData.corporations" :key="corporation.id">
					<td>{{ corporation.id }}</td>
					<td>{{ corporation.name }}</td>
					<td v-bind:class="{ leader: corporation.highestBalance }">{{ corporation.balance }}</td>
					<td>{{ corporation.focus }}</td>
					<td>{{ corporation.jobsAvailable }}</td>
					<td>{{ corporation.jobsActive }}</td>
					<td>{{ corporation.jobsCompleted }}</td>
					<td>{{ corporation.driversCount }}</td>
					<td>{{ corporation.driversActive }}</td>
<!-- 					<td v-for="(v, k) in corporation" :key="k['id']">
						{{ v }}
					</td> -->
				</tr>
			</table>
			<!-- factions -->
			<table>
				<tr><td colspan="100%"><h2>Factions</h2></td></tr>
				<tr class="header">
					<th v-for="prop in factionData.factionsProps" :key="prop.index">
						{{ prop }}
					</th>
				</tr>
				<tr v-for="faction in factionData.factions" :key="faction.id">
					<td v-for="(v, k) in faction" :key="k['id']">
						{{ v }}
					</td>
				</tr>
			</table>
		</div>
		<div class="right-col">
			<!-- jobs -->
			<table>
				<tr>
					<td colspan="100%"><h2>Jobs (Available = <span id="availableCount">0</span>, Total = <span id="jobCount">0</span>)</h2></td>
				</tr>
				<tr class="header">
					<th v-for="prop in jobProps" :key="prop.index">
						{{ prop }}
					</th>
				</tr>
				<tr v-for="job in jobList" :key="job.id">
					<td v-for="(v, k) in job" :key="k['id']">
						{{ v }}
					</td>
				</tr>
			</table>
			<!-- active jobs -->
			<table>
				<tr>
					<td colspan="100%"><h2>Active Jobs (<span id="activeCount">0</span>)</h2></td>
				</tr>
				<tr class="header">
					<th v-for="prop in jobProps" :key="prop.index">
						{{ prop }}
					</th>
				</tr>
				<tr v-for="job in activeJobList" :key="job.id">
					<td v-for="(v, k) in job" :key="k['id']">
						{{ v }}
					</td>
				</tr>
			</table>
			<!-- archived jobs -->
			<table>
				<tr>
					<td colspan="100%"><h2>Archived Jobs (<span id="archivedCount">0</span>)</h2></td>
				</tr>
				<tr class="header">
					<th v-for="prop in jobProps" :key="prop.index">
						{{ prop }}
					</th>
				</tr>
				<tr v-for="job in archivedJobList" :key="job.id">
					<td v-for="(v, k) in job" :key="k['id']">
						{{ v }}
					</td>
				</tr>
			</table>
		</div>
	</div>
	<script src="js/scripts.js"></script>
</body>
</html>